<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="stylesheet" href="./css/bootstrap.css" type="text/css" />
    <link rel="stylesheet" href="./style.css" type="text/css" />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/css/bootstrap.min.css"
      integrity="sha384-B0vP5xmATw1+K9KRQjQERJvTumQW0nPEzvF6L/Z6nronJ3oUOFUFpCjEUQouq2+l"
      crossorigin="anonymous"
    />
    <script
      src="https://kit.fontawesome.com/102505e3a4.js"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.0/dist/js/bootstrap.min.js"
      integrity="sha384-+YQ4JLhjyBLPDQt//I+STsc9iw4uQqACwlvpslubQzn4u2UU2UFM80nGisd026JF"
      crossorigin="anonymous"
    ></script>

    <!-- Load d3.js -->
    <script src="https://d3js.org/d3.v4.js"></script>
  </head>
  <body class="bg-one">
    <header class="bg-two mb-4">
      <div class="container">
        <div class="d-flex justify-content-center">
          <div class="d-flex justify-content-center align-items-center">
            <i class="fas fa-chevron-left fa-2x mr-5"></i>
            <div>
              <p class="text-center mb-0" style="font-size: 13px">Saturday</p>
              <p>11/14/2020</p>
            </div>
            <i class="fas fa-chevron-right fa-2x ml-5"></i>
          </div>
        </div>
      </div>
    </header>

    <section class="px-3">
      <div class="row">
        <div class="mb-3 col-lg-3 col-12 section-card">
          <div class="py-2 px-3 bg-three section-header">
            <p class="mb-0">Indexes</p>
          </div>
          <div class="section-box boxes-4">
            <div class="box-info">
              <p>Dow</p>
              <p class="green"><i class="fas fa-chevron-up green"></i> 1.60%</p>
              <p>29.950.44 / 470.63</p>
            </div>
            <div class="box-info">
              <p>Nasdaq</p>
              <p class="green"><i class="fas fa-chevron-up green"></i> 0.80%</p>
              <p>21.50.44 / 360.63</p>
            </div>
            <div class="box-info">
              <p>S & P</p>
              <p class="green"><i class="fas fa-chevron-up green"></i> 1.16%</p>
              <p>29.150.44 / 200.63</p>
            </div>
            <div class="box-info">
              <p>S & P</p>
              <p class="green"><i class="fas fa-chevron-up green"></i> 0.80%</p>
              <p>6.950.44 / 180.63</p>
            </div>
          </div>
        </div>

        <div class="mb-3 col-lg-3 col-12 section-card">
          <div class="py-2 px-3 bg-three section-header">
            <p class="mb-0">Most popular stocks</p>
          </div>
          <div class="section-box boxes-6">
            <div class="box-info">
              <p>Apple Inc.</p>
              <div class="info-procent">
                <p class="green">
                  <i class="fas fa-chevron-up green"></i> 1.60%
                </p>
                <p class="green">120.37</p>
              </div>
              <p class="m-0">Last Updated:</p>
              <p class="m-0">05/05/2020</p>
            </div>
            <div class="box-info">
              <p>Apple Inc.</p>
              <div class="info-procent">
                <p class="red">
                  <i class="fas fa-chevron-down red"></i> -1.60%
                </p>
                <p class="red">120</p>
              </div>
              <p class="m-0">Last Updated:</p>
              <p class="m-0">05/05/2020</p>
            </div>
            <div class="box-info">
              <p>Apple Inc.</p>
              <div class="info-procent">
                <p class="green">
                  <i class="fas fa-chevron-up green"></i> 1.60%
                </p>
                <p class="green">120</p>
              </div>
              <p class="m-0">Last Updated:</p>
              <p class="m-0">05/05/2020</p>
            </div>
            <div class="box-info">
              <p>Apple Inc.</p>
              <div class="info-procent">
                <p class="red">
                  <i class="fas fa-chevron-down red"></i> -1.60%
                </p>
                <p class="red">1.776.03</p>
              </div>
              <p class="m-0">Last Updated:</p>
              <p class="m-0">05/05/2020</p>
            </div>
            <div class="box-info">
              <p>Apple Inc.</p>
              <div class="info-procent">
                <p class="green">
                  <i class="fas fa-chevron-up green"></i> 1.60%
                </p>
                <p class="green">120</p>
              </div>
              <p class="m-0">Last Updated:</p>
              <p class="m-0">05/05/2020</p>
            </div>
            <div class="box-info">
              <p>Apple Inc.</p>
              <div class="info-procent">
                <p class="green">
                  <i class="fas fa-chevron-up green"></i> 1.60%
                </p>
                <p class="green">120</p>
              </div>
              <p class="m-0">Last Updated:</p>
              <p class="m-0">05/05/2020</p>
            </div>
          </div>
        </div>

        <div class="mb-3 col-lg-3 col-12 section-card">
          <div class="py-2 px-3 bg-three section-header">
            <p class="mb-0">Economic Numbers</p>
          </div>
          <div class="section-box boxes-6">
            <div class="box-info">
              <p>Apple Inc.</p>
              <div class="info-procent">
                <p class="green">
                  <i class="fas fa-chevron-up green"></i>1.60%
                </p>
                <p class="green">120.37</p>
              </div>
              <p class="m-0">Last Updated:</p>
              <p class="m-0">05/05/2020</p>
            </div>
            <div class="box-info">
              <p>Apple Inc.</p>
              <div class="info-procent">
                <p class="green">
                  <i class="fas fa-chevron-up green"></i>1.60%
                </p>
                <p class="green">120</p>
              </div>
              <p class="m-0">Last Updated:</p>
              <p class="m-0">05/05/2020</p>
            </div>
            <div class="box-info">
              <p>Apple Inc.</p>
              <div class="info-procent">
                <p class="green">
                  <i class="fas fa-chevron-up green"></i>1.60%
                </p>
                <p class="green">120</p>
              </div>
              <p class="m-0">Last Updated:</p>
              <p class="m-0">05/05/2020</p>
            </div>
            <div class="box-info">
              <p>Apple Inc.</p>
              <div class="info-procent">
                <p class="green">
                  <i class="fas fa-chevron-up green"></i>1.60%
                </p>
                <p class="green">120</p>
              </div>
              <p class="m-0">Last Updated:</p>
              <p class="m-0">05/05/2020</p>
            </div>
            <div class="box-info">
              <p>Apple Inc.</p>
              <div class="info-procent">
                <p class="green">
                  <i class="fas fa-chevron-up green"></i>1.60%
                </p>
                <p class="green">120</p>
              </div>
              <p class="m-0">Last Updated:</p>
              <p class="m-0">05/05/2020</p>
            </div>
            <div class="box-info">
              <p>Apple Inc.</p>
              <div class="info-procent">
                <p class="green">
                  <i class="fas fa-chevron-up green"></i>1.60%
                </p>
                <p class="green">120</p>
              </div>
              <p class="m-0">Last Updated:</p>
              <p class="m-0">05/05/2020</p>
            </div>
          </div>
        </div>

        <div class="mb-3 col-lg-3 col-12 section-card">
          <div class="py-2 px-3 bg-three section-header">
            <p class="mb-0">Comodities</p>
          </div>
          <div class="section-box boxes-6">
            <div class="box-info">
              <p>Apple Inc.</p>
              <div class="info-procent">
                <p class="green">1.60%</p>
                <p class="green">120.37</p>
              </div>
              <p class="m-0">Last Updated:</p>
              <p class="m-0">05/05/2020</p>
            </div>
            <div class="box-info">
              <p>Apple Inc.</p>
              <div class="info-procent">
                <p class="green">1.60%</p>
                <p class="green">120</p>
              </div>
              <p class="m-0">Last Updated:</p>
              <p class="m-0">05/05/2020</p>
            </div>
            <div class="box-info">
              <p>Apple Inc.</p>
              <div class="info-procent">
                <p class="green">1.60%</p>
                <p class="green">120</p>
              </div>
              <p class="m-0">Last Updated:</p>
              <p class="m-0">05/05/2020</p>
            </div>
            <div class="box-info">
              <p>Apple Inc.</p>
              <div class="info-procent">
                <p class="green">1.60%</p>
                <p class="green">120</p>
              </div>
              <p class="m-0">Last Updated:</p>
              <p class="m-0">05/05/2020</p>
            </div>
            <div class="box-info">
              <p>Apple Inc.</p>
              <div class="info-procent">
                <p class="green">1.60%</p>
                <p class="green">120</p>
              </div>
              <p class="m-0">Last Updated:</p>
              <p class="m-0">05/05/2020</p>
            </div>
            <div class="box-info">
              <p>Apple Inc.</p>
              <div class="info-procent">
                <p class="green">1.60%</p>
                <p class="green">120</p>
              </div>
              <p class="m-0">Last Updated:</p>
              <p class="m-0">05/05/2020</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <div class="px-3 mt-4 row">
      <div class="col-lg-9">
        <section class="">
          <div class="">
            <div class="mb-3 py-2 px-3 bg-three section-header">
              <p class="mb-0">Heatmap</p>
            </div>
            <div class="d-flex">
              <div id="graph1"></div>
              <div id="graph2"></div>
            </div>
            <script>
              {
                // set the dimensions and margins of the graph
                var margin = { top: 10, right: 5, bottom: 10, left: 5 },
                  width = 700 - margin.left - margin.right,
                  height = 445 - margin.top - margin.bottom;

                // append the svg object to the body of the page
                const svg = d3
                  .select("#graph1")
                  .append("svg")
                  .attr("width", width + margin.left + margin.right)
                  .attr("height", height + margin.top + margin.bottom)
                  .append("g")
                  .attr(
                    "transform",
                    "translate(" + margin.left + "," + margin.top + ")"
                  );

                // read json data
                d3.json("./flare.json", function (data) {
                  // Give the data to this cluster layout:
                  var root = d3.hierarchy(data).sum(function (d) {
                    return d.value;
                  }); // Here the size of each leave is given in the 'value' field in input data

                  // Then d3.treemap computes the position of each element of the hierarchy
                  d3
                    .treemap()
                    .size([width, height])
                    .paddingTop(30)
                    .paddingRight(2)
                    .paddingInner(3)(root);

                  // use this information to add rectangles:
                  svg
                    .selectAll("rect")
                    .data(root.leaves())
                    .enter()
                    .append("rect")
                    .attr("x", function (d) {
                      return d.x0;
                    })
                    .attr("y", function (d) {
                      return d.y0;
                    })
                    .attr("width", function (d) {
                      return d.x1 - d.x0;
                    })
                    .attr("height", function (d) {
                      return d.y1 - d.y0;
                    })
                    .style("fill", "#264f6d");

                  // Names
                  svg
                    .selectAll("text")
                    .data(root.leaves())
                    .enter()
                    .append("text")
                    .attr("x", function (d) {
                      if (d.data.value > 1) return d.x0 + 5;
                      else return d.x0 + 1;
                    }) // +10 to adjust position (more right)
                    .attr("y", function (d) {
                      return d.y0 + 20;
                    }) // +20 to adjust position (lower)
                    .text(function (d) {
                      return d.data.name;
                    })
                    .attr("font-size", function (d) {
                      if (d.data.value > 1) return "15px";
                      else return d.value + 8;
                    })
                    .attr("font-weight", "500")
                    .attr("fill", function (d) {
                      if (d.data.value > 1) return "red";
                      else return "lightgreen";
                    });

                  //Values
                  svg
                    .selectAll("vals")
                    .data(root.leaves())
                    .enter()
                    .append("text")
                    .attr("x", function (d) {
                      return d.x0 + 5;
                    }) // +10 to adjust position (more right)
                    .attr("y", function (d) {
                      return d.y0 + 35;
                    }) // +20 to adjust position (lower)
                    .text(function (d) {
                      if (d.data.value > 1) return "-" + d.data.value + "%";
                    })
                    .attr("font-size", "13px")
                    .attr("fill", function (d) {
                      if (d.data.value > 1) return "red";
                      else return "green";
                    });

                  // Add title
                  svg
                    .selectAll("titles")
                    .data(
                      root.descendants().filter(function (d) {
                        return d.depth == 1;
                      })
                    )
                    .enter()
                    .append("text")
                    .attr("x", function (d) {
                      return d.x0;
                    })
                    .attr("y", function (d) {
                      return d.y0 + 21;
                    })
                    .text(function (d) {
                      return d.data.name;
                    })
                    .attr("font-size", "15px")
                    .attr("font-weight", "500")
                    .style("text-transform", "uppercase")
                    .attr("fill", "white");

                  // Add title for the 3 groups
                  svg
                    .append("rect")
                    .attr("x", 0)
                    .attr("y", 0) // +20 to adjust position (lower)
                    .attr("font-size", "19px")
                    // .attr("y", "30")
                    .attr("width", width - 5)
                    .attr("height", "20")
                    .style("fill", "#264f6d");
                  svg
                    .append("text")
                    .attr("x", 0)
                    .attr("y", 18) // +20 to adjust position (lower)
                    .text("Technology")
                    .style("text-transform", "uppercase")
                    .attr("font-size", "19px")
                    .style("fill", "#fff");
                });
              }
            </script>

            <script>
              {
                // set the dimensions and margins of the graph
                var margin = { top: 10, right: 5, bottom: 10, left: 5 },
                  width = 700 - margin.left - margin.right,
                  height = 445 - margin.top - margin.bottom;

                // append the svg object to the body of the page
                const svg = d3
                  .select("#graph2")
                  .append("svg")
                  .attr("width", width + margin.left + margin.right)
                  .attr("height", height + margin.top + margin.bottom)
                  .append("g")
                  .attr(
                    "transform",
                    "translate(" + margin.left + "," + margin.top + ")"
                  );

                // read json data
                d3.json("./flare2.json", function (data) {
                  // Give the data to this cluster layout:
                  var root = d3.hierarchy(data).sum(function (d) {
                    return d.value;
                  }); // Here the size of each leave is given in the 'value' field in input data

                  // Then d3.treemap computes the position of each element of the hierarchy
                  d3
                    .treemap()
                    .size([width, height])
                    .paddingTop(30)
                    .paddingRight(2)
                    .paddingInner(3)(root);

                  // use this information to add rectangles:
                  svg
                    .selectAll("rect")
                    .data(root.leaves())
                    .enter()
                    .append("rect")
                    .attr("x", function (d) {
                      return d.x0;
                    })
                    .attr("y", function (d) {
                      return d.y0;
                    })
                    .attr("width", function (d) {
                      return d.x1 - d.x0;
                    })
                    .attr("height", function (d) {
                      return d.y1 - d.y0;
                    })
                    .style("fill", "#264f6d");

                  // Names
                  svg
                    .selectAll("text")
                    .data(root.leaves())
                    .enter()
                    .append("text")
                    .attr("x", function (d) {
                      if (d.data.value > 1) return d.x0 + 5;
                      else return d.x0 + 1;
                    }) // +10 to adjust position (more right)
                    .attr("y", function (d) {
                      return d.y0 + 20;
                    }) // +20 to adjust position (lower)
                    .text(function (d) {
                      return d.data.name;
                    })
                    .attr("font-size", function (d) {
                      if (d.data.value > 1) return "15px";
                      else return d.value + 8;
                    })
                    .attr("font-weight", "500")
                    .attr("fill", function (d) {
                      if (d.data.value > 1) return "red";
                      else return "lightgreen";
                    });

                  //Values
                  svg
                    .selectAll("vals")
                    .data(root.leaves())
                    .enter()
                    .append("text")
                    .attr("x", function (d) {
                      return d.x0 + 5;
                    }) // +10 to adjust position (more right)
                    .attr("y", function (d) {
                      return d.y0 + 35;
                    }) // +20 to adjust position (lower)
                    .text(function (d) {
                      if (d.data.value > 1) return "-" + d.data.value + "%";
                    })
                    .attr("font-size", "13px")
                    .attr("fill", function (d) {
                      if (d.data.value > 1) return "red";
                      else return "green";
                    });

                  // Add title
                  svg
                    .selectAll("titles")
                    .data(
                      root.descendants().filter(function (d) {
                        return d.depth == 1;
                      })
                    )
                    .enter()
                    .append("text")
                    .attr("x", function (d) {
                      return d.x0;
                    })
                    .attr("y", function (d) {
                      return d.y0 + 21;
                    })
                    .text(function (d) {
                      return d.data.name;
                    })
                    .attr("font-size", "15px")
                    .attr("font-weight", "500")
                    .style("text-transform", "uppercase")
                    .attr("fill", "white");

                  // Add title for the 3 groups
                  svg
                    .append("rect")
                    .attr("x", 0)
                    .attr("y", 0) // +20 to adjust position (lower)
                    .attr("font-size", "19px")
                    // .attr("y", "30")
                    .attr("width", width - 5)
                    .attr("height", "20")
                    .style("fill", "#264f6d");
                  svg
                    .append("text")
                    .attr("x", 0)
                    .attr("y", 18) // +20 to adjust position (lower)
                    .text("SERVICES")
                    .style("text-transform", "uppercase")
                    .attr("font-size", "19px")
                    .style("fill", "#fff");
                });
              }
            </script>
          </div>
        </section>
      </div>

      <div class="col-lg-3">
        <section>
          <div class="py-2 px-3 bg-three section-header">
            <p class="mb-0">Newsletter</p>
          </div>
        </section>
      </div>
    </div>
  </body>
</html>
